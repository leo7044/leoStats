/* Developer: leo7044 (https://github.com/leo7044) */
(function(){var e=function(){function e(){(function(){var e="2020.02.29.1";qx.Class.define("leoStats",{type:"singleton",extend:qx.core.Object,construct:function(){console.log("create leoStats...")},members:{initialize:function(){this.sendChatInfoStatus=!0,this.ObjectData={},this.ObjectDataNotSend={},this.linkBase="",this.ObjectReportData={},this.timeoutArrayReportDataManager=[],this.ReportsAreLoading=!1,this.app=qx.core.Init.getApplication(),this.GuiButtonLeoStats=new qx.ui.form.Button("leoStats").set({center:!0,rich:!0}),this.setCncOptVars(),this.getCurrentStats(),this.buildGUI()},buildGUI:function(){this.GuiFenster=new qx.ui.window.Window("leoStats "+e+" by leo7044").set({padding:5,paddingRight:0,width:350,showMaximize:!1,showMinimize:!1,showClose:!0,allowClose:!0,resizable:!1}),this.GuiFenster.setTextColor("black"),this.GuiFenster.setLayout(new qx.ui.layout.HBox),this.GuiFenster.moveTo(590,48),this.GuiTab=new qx.ui.tabview.TabView().set({contentPaddingTop:3,contentPaddingBottom:6,contentPaddingRight:7,contentPaddingLeft:3}),this.GuiFenster.add(this.GuiTab),this.GuiInfoPage=new qx.ui.tabview.Page("Info"),this.GuiInfoPage.setLayout(new qx.ui.layout.Grow),this.GuiTab.add(this.GuiInfoPage),this.GuiInfoVBox=new qx.ui.container.Composite,this.GuiInfoVBox.setLayout(new qx.ui.layout.VBox(5)),this.GuiInfoVBox.setThemedPadding(10),this.GuiInfoVBox.setThemedBackgroundColor("#eef"),this.GuiInfoPage.add(this.GuiInfoVBox),this.GuiBasesPage=new qx.ui.tabview.Page("Bases"),this.GuiBasesPage.setLayout(new qx.ui.layout.Grow),this.GuiTab.add(this.GuiBasesPage),this.GuiBasesVBox=new qx.ui.container.Composite,this.GuiBasesVBox.setLayout(new qx.ui.layout.VBox(5)),this.GuiBasesVBox.setThemedPadding(10),this.GuiBasesVBox.setThemedBackgroundColor("#eef"),this.GuiBasesPage.add(this.GuiBasesVBox),this.GuiPlayerPage=new qx.ui.tabview.Page("Player"),this.GuiPlayerPage.setLayout(new qx.ui.layout.Grow),this.GuiTab.add(this.GuiPlayerPage),this.GuiPlayerVBox=new qx.ui.container.Composite,this.GuiPlayerVBox.setLayout(new qx.ui.layout.VBox(5)),this.GuiPlayerVBox.setThemedPadding(10),this.GuiPlayerVBox.setThemedBackgroundColor("#eef"),this.GuiPlayerPage.add(this.GuiPlayerVBox),this.GuiPoisPage=new qx.ui.tabview.Page("POIs"),this.GuiPoisPage.setLayout(new qx.ui.layout.Grow),this.GuiTab.add(this.GuiPoisPage),this.GuiPoisVBox=new qx.ui.container.Composite,this.GuiPoisVBox.setLayout(new qx.ui.layout.VBox(5)),this.GuiPoisVBox.setThemedPadding(10),this.GuiPoisVBox.setThemedBackgroundColor("#eef"),this.GuiPoisPage.add(this.GuiPoisVBox),this.GuiPoiDataPage=new qx.ui.tabview.Page("POI-Data"),this.GuiPoiDataPage.setLayout(new qx.ui.layout.Grow),this.GuiTab.add(this.GuiPoiDataPage),this.GuiPoiDataVBox=new qx.ui.container.Composite,this.GuiPoiDataVBox.setLayout(new qx.ui.layout.VBox(5)),this.GuiPoiDataVBox.setThemedPadding(10),this.GuiPoiDataVBox.setThemedBackgroundColor("#eef"),this.GuiPoiDataPage.add(this.GuiPoiDataVBox),this.GuiButtonLeoStats.addListener("click",function(){this.GuiInfoVBox.removeAll(),this.GuiBasesVBox.removeAll(),this.GuiPlayerVBox.removeAll(),this.GuiPoisVBox.removeAll(),this.GuiPoiDataVBox.removeAll(),this.getCurrentStats(),this.showGui(),this.GuiFenster.show()},this),this.app.getDesktop().add(this.GuiButtonLeoStats,{right:125,top:0})},showGui:function(){var a=new qx.ui.container.Composite(new qx.ui.layout.HBox(50).set({alignX:"center"})),t=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"center"}));t.add(new qx.ui.basic.Label("<big><u><b>Information</b></u></big>").set({rich:!0})),t.add(new qx.ui.basic.Label("").set({rich:!0}));var n=new qx.ui.container.Composite(new qx.ui.layout.HBox(10).set({alignX:"center"})),r=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"right"})),o=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"left"}));r.add(new qx.ui.basic.Label("<b>Scriptname</b>").set({rich:!0})),o.add(new qx.ui.basic.Label("leoStats").set({rich:!0})),r.add(new qx.ui.basic.Label("<b>Version</b>").set({rich:!0})),o.add(new qx.ui.basic.Label(e).set({rich:!0})),r.add(new qx.ui.basic.Label("<b>Autor</b>").set({rich:!0})),o.add(new qx.ui.basic.Label("leo7044").set({rich:!0})),r.add(new qx.ui.basic.Label("<b>Website</b>").set({rich:!0})),o.add(new qx.ui.basic.Label("<a href=\"https://cnc.indyserver.info/\" target=\"_blank\">https://cnc.indyserver.info/</a>").set({rich:!0})),r.add(new qx.ui.basic.Label("<b>BaseScanner</b>").set({rich:!0})),o.add(new qx.ui.basic.Label("<a href=\"https://cnc.indyserver.info/BaseScanner/?WorldId="+this.ObjectData.server.WorldId+"\" target=\"_blank\">https://cnc.indyserver.info/BaseScanner/?WorldId="+this.ObjectData.server.WorldId+"</a>").set({rich:!0})),r.add(new qx.ui.basic.Label("<b>E-Mail</b>").set({rich:!0})),o.add(new qx.ui.basic.Label("<a href=\"mailto:cc.ta.leo7044@gmail.com\">cc.ta.leo7044@gmail.com</a>").set({rich:!0})),n.add(r),n.add(o),t.add(n);var s=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"center"}));s.add(new qx.ui.basic.Label("").set({rich:!0})),s.add(new qx.ui.basic.Label("<form><input type=\"button\" value=\"Transmit data\" onclick=\"leoStats.getInstance().getCurrentStats();\"/></form>").set({rich:!0})),t.add(s),a.add(t),this.GuiInfoVBox.add(a);var c=new qx.ui.container.Composite(new qx.ui.layout.HBox(50).set({alignX:"center"})),l=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"center"}));l.add(new qx.ui.basic.Label("<big><u><b>Playerbases</b></u></big>").set({rich:!0})),l.add(new qx.ui.basic.Label("").set({rich:!0}));var d=new qx.ui.container.Composite(new qx.ui.layout.HBox(10).set({alignX:"center"})),u=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"center"})),g=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"center"})),b=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"center"})),D=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"center"})),y=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"center"})),p=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"center"})),_=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"center"})),h=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"center"})),O=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"center"})),I=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"center"})),C=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"center"}));for(var m in u.add(new qx.ui.basic.Label("<b>BaseName</b>").set({rich:!0})),b.add(new qx.ui.basic.Label("<b>CY</b>").set({rich:!0})),D.add(new qx.ui.basic.Label("<b>Base</b>").set({rich:!0})),y.add(new qx.ui.basic.Label("<b>Off</b>").set({rich:!0})),p.add(new qx.ui.basic.Label("<b>Def</b>").set({rich:!0})),_.add(new qx.ui.basic.Label("<b>DF</b>").set({rich:!0})),h.add(new qx.ui.basic.Label("<b>Sup</b>").set({rich:!0})),g.add(new qx.ui.basic.Label("<b>Tiberium</b>").set({rich:!0})),O.add(new qx.ui.basic.Label("<b>Crystal</b>").set({rich:!0})),I.add(new qx.ui.basic.Label("<b>Power</b>").set({rich:!0})),C.add(new qx.ui.basic.Label("<b>Credits</b>").set({rich:!0})),this.ObjectData.bases)u.add(new qx.ui.basic.Label(this.ObjectData.bases[m].BaseName.toLocaleString()).set({rich:!0,alignX:"left"})),b.add(new qx.ui.basic.Label(this.ObjectData.bases[m].LvLCY.toLocaleString()).set({rich:!0,alignX:"right"})),D.add(new qx.ui.basic.Label(this.ObjectData.bases[m].LvLBase.toFixed(2).toLocaleString()).set({rich:!0,alignX:"right"})),y.add(new qx.ui.basic.Label(this.ObjectData.bases[m].LvLOffense.toFixed(2).toLocaleString()).set({rich:!0,alignX:"right"})),p.add(new qx.ui.basic.Label(this.ObjectData.bases[m].LvLDefense.toFixed(2).toLocaleString()).set({rich:!0,alignX:"right"})),_.add(new qx.ui.basic.Label(this.ObjectData.bases[m].LvLDF.toLocaleString()).set({rich:!0,alignX:"right"})),0<this.ObjectData.bases[m].LvLSupport?h.add(new qx.ui.basic.Label(this.ObjectData.bases[m].LvLSupport.toLocaleString()+" ("+this.ObjectData.bases[m].SupArt+")").set({rich:!0,alignX:"right"})):h.add(new qx.ui.basic.Label("---").set({rich:!0,alignX:"right"})),g.add(new qx.ui.basic.Label(this.ObjectData.bases[m].TiberiumPerHour.toLocaleString()).set({rich:!0,alignX:"right"})),O.add(new qx.ui.basic.Label(this.ObjectData.bases[m].CrystalPerHour.toLocaleString()).set({rich:!0,alignX:"right"})),I.add(new qx.ui.basic.Label(this.ObjectData.bases[m].PowerPerHour.toLocaleString()).set({rich:!0,alignX:"right"})),C.add(new qx.ui.basic.Label(this.ObjectData.bases[m].CreditsPerHour.toLocaleString()).set({rich:!0,alignX:"right"}));u.add(new qx.ui.basic.Label("<b>Overall</b>").set({rich:!0})),b.add(new qx.ui.basic.Label(this.ObjectData.player.AverageCY.toFixed(2).toLocaleString()).set({rich:!0,alignX:"right"})),D.add(new qx.ui.basic.Label(this.ObjectData.player.AverageBase.toFixed(2).toLocaleString()).set({rich:!0,alignX:"right"})),y.add(new qx.ui.basic.Label(this.ObjectData.player.AverageOff.toFixed(2).toLocaleString()).set({rich:!0,alignX:"right"})),p.add(new qx.ui.basic.Label(this.ObjectData.player.AverageDef.toFixed(2).toLocaleString()).set({rich:!0,alignX:"right"})),_.add(new qx.ui.basic.Label(this.ObjectData.player.AverageDF.toFixed(2).toLocaleString()).set({rich:!0,alignX:"right"})),h.add(new qx.ui.basic.Label(this.ObjectData.player.AverageSup.toFixed(2).toLocaleString()).set({rich:!0,alignX:"right"})),g.add(new qx.ui.basic.Label(this.ObjectData.player.ProductionTiberium.toLocaleString()).set({rich:!0,alignX:"right"})),O.add(new qx.ui.basic.Label(this.ObjectData.player.ProductionCrystal.toLocaleString()).set({rich:!0,alignX:"right"})),I.add(new qx.ui.basic.Label(this.ObjectData.player.ProductionPower.toLocaleString()).set({rich:!0,alignX:"right"})),C.add(new qx.ui.basic.Label(this.ObjectData.player.ProductionCredits.toLocaleString()).set({rich:!0,alignX:"right"})),d.add(u),d.add(b),d.add(D),d.add(y),d.add(p),d.add(_),d.add(h),d.add(g),d.add(O),d.add(I),d.add(C),l.add(d),c.add(l),this.GuiBasesVBox.add(c),this.createTabPlayer();var G=new qx.ui.container.Composite(new qx.ui.layout.HBox(50).set({alignX:"center"})),f=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"center"}));f.add(new qx.ui.basic.Label("<big><u><b>POIs</b></u></big>").set({rich:!0})),f.add(new qx.ui.basic.Label("").set({rich:!0}));var L=new qx.ui.container.Scroll().set({width:627,height:560}),B=new qx.ui.container.Composite(new qx.ui.layout.HBox(10).set({alignX:"center"})),S=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"center"})),P=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"center"})),j=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"center"})),A=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"center"})),x=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"center"})),k=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"center"})),R=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"center"})),v=null,N=null,V=null,w=null,M=null,T=null,X=null;S.add(v=new qx.ui.basic.Atom("<b>Tiberium</b>","webfrontend/ui/common/icn_res_tiberium.png").set({rich:!0})),v.getChildControl("icon").set({width:18,height:18,scale:!0,alignY:"middle"}),P.add(N=new qx.ui.basic.Atom("<b>Crystal</b>","webfrontend/ui/common/icn_res_chrystal.png").set({rich:!0})),N.getChildControl("icon").set({width:18,height:18,scale:!0,alignY:"middle"}),j.add(V=new qx.ui.basic.Atom("<b>Power</b>","webfrontend/ui/common/icn_res_power.png").set({rich:!0})),V.getChildControl("icon").set({width:18,height:18,scale:!0,alignY:"middle"}),A.add(w=new qx.ui.basic.Atom("<b>Infantry</b>","FactionUI/icons/icon_arsnl_off_squad.png").set({rich:!0})),w.getChildControl("icon").set({width:18,height:18,scale:!0,alignY:"middle"}),x.add(M=new qx.ui.basic.Atom("<b>Vehicle</b>","FactionUI/icons/icon_arsnl_off_vehicle.png").set({rich:!0})),M.getChildControl("icon").set({width:18,height:18,scale:!0,alignY:"middle"}),k.add(T=new qx.ui.basic.Atom("<b>Aircraft</b>","FactionUI/icons/icon_arsnl_off_plane.png").set({rich:!0})),T.getChildControl("icon").set({width:18,height:18,scale:!0,alignY:"middle"}),R.add(X=new qx.ui.basic.Atom("<b>Defense</b>","FactionUI/icons/icon_def_army_points.png").set({rich:!0})),X.getChildControl("icon").set({width:18,height:18,scale:!0,alignY:"middle"});var F=[];for(var m in this.ObjectData.alliance.AllianceId&&(F=ClientLib.Data.MainData.GetInstance().get_Alliance().get_OwnedPOIs()),F.reverse(),F)switch(F[m].t){case 2:{S.add(new qx.ui.basic.Label(F[m].l+" (<a style=\"cursor: pointer; color: #1d79ff\" onclick=\"webfrontend.gui.UtilView.centerCoordinatesOnRegionViewWindow(parseInt("+F[m].x+"), parseInt("+F[m].y+"));\">"+F[m].x+":"+F[m].y+"</a>)").set({rich:!0,alignX:"left"}));break}case 3:{P.add(new qx.ui.basic.Label(F[m].l+" (<a style=\"cursor: pointer; color: #1d79ff\" onclick=\"webfrontend.gui.UtilView.centerCoordinatesOnRegionViewWindow(parseInt("+F[m].x+"), parseInt("+F[m].y+"));\">"+F[m].x+":"+F[m].y+"</a>)").set({rich:!0,alignX:"left"}));break}case 4:{j.add(new qx.ui.basic.Label(F[m].l+" (<a style=\"cursor: pointer; color: #1d79ff\" onclick=\"webfrontend.gui.UtilView.centerCoordinatesOnRegionViewWindow(parseInt("+F[m].x+"), parseInt("+F[m].y+"));\">"+F[m].x+":"+F[m].y+"</a>)").set({rich:!0,alignX:"left"}));break}case 5:{A.add(new qx.ui.basic.Label(F[m].l+" (<a style=\"cursor: pointer; color: #1d79ff\" onclick=\"webfrontend.gui.UtilView.centerCoordinatesOnRegionViewWindow(parseInt("+F[m].x+"), parseInt("+F[m].y+"));\">"+F[m].x+":"+F[m].y+"</a>)").set({rich:!0,alignX:"left"}));break}case 6:{x.add(new qx.ui.basic.Label(F[m].l+" (<a style=\"cursor: pointer; color: #1d79ff\" onclick=\"webfrontend.gui.UtilView.centerCoordinatesOnRegionViewWindow(parseInt("+F[m].x+"), parseInt("+F[m].y+"));\">"+F[m].x+":"+F[m].y+"</a>)").set({rich:!0,alignX:"left"}));break}case 7:{k.add(new qx.ui.basic.Label(F[m].l+" (<a style=\"cursor: pointer; color: #1d79ff\" onclick=\"webfrontend.gui.UtilView.centerCoordinatesOnRegionViewWindow(parseInt("+F[m].x+"), parseInt("+F[m].y+"));\">"+F[m].x+":"+F[m].y+"</a>)").set({rich:!0,alignX:"left"}));break}case 8:{R.add(new qx.ui.basic.Label(F[m].l+" (<a style=\"cursor: pointer; color: #1d79ff\" onclick=\"webfrontend.gui.UtilView.centerCoordinatesOnRegionViewWindow(parseInt("+F[m].x+"), parseInt("+F[m].y+"));\">"+F[m].x+":"+F[m].y+"</a>)").set({rich:!0,alignX:"left"}));break}default:}F.reverse(),B.add(S),B.add(P),B.add(j),B.add(A),B.add(x),B.add(k),B.add(R),L.add(B),f.add(L),G.add(f),this.GuiPoisVBox.add(G);var E=new qx.ui.container.Composite(new qx.ui.layout.HBox(50).set({alignX:"center"})),H=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"center"}));H.add(new qx.ui.basic.Label("<big><u><b>POI-Level</b></u></big>").set({rich:!0})),H.add(new qx.ui.basic.Label("").set({rich:!0}));var U=new qx.ui.container.Scroll().set({width:137,height:560}),W=new qx.ui.container.Composite(new qx.ui.layout.HBox(10).set({alignX:"center"})),Y=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"center"}));Y.add(new qx.ui.basic.Label("<b>Level</b>").set({rich:!0}));var z=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"center"}));z.add(new qx.ui.basic.Label("<b>Points</b>").set({rich:!0}));for(var q,Z=ClientLib.Data.MainData.GetInstance().get_Server().get_MaxCenterLevel(),m=12;m<=Z;m++)q=ClientLib.Base.PointOfInterestTypes.GetScoreByLevel(m),Y.add(new qx.ui.basic.Label(m.toLocaleString()).set({rich:!0,alignX:"right"})),z.add(new qx.ui.basic.Label(q.toLocaleString()).set({rich:!0,alignX:"right"}));W.add(Y),W.add(z),U.add(W),H.add(U),E.add(H);var Q=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"center"}));Q.add(new qx.ui.basic.Label("<big><u><b>POI-Tiers</b></u></big>").set({rich:!0})),Q.add(new qx.ui.basic.Label("").set({rich:!0}));var J=new qx.ui.container.Scroll().set({width:237,height:560}),K=new qx.ui.container.Composite(new qx.ui.layout.HBox(10).set({alignX:"center"})),ee=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"center"}));ee.add(new qx.ui.basic.Label("<b>Points</b>").set({rich:!0}));var ae=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"center"}));ae.add(new qx.ui.basic.Label("<b>Resources</b>").set({rich:!0}));var te=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"center"}));te.add(new qx.ui.basic.Label("<b>Fight</b>").set({rich:!0}));for(var ie=ClientLib.Data.MainData.GetInstance().get_Server().get_POIGlobalBonusFactor(),ne=[],re=-1,oe=0,se=0,ce=0;re!=oe&&(re=oe,oe=ClientLib.Base.PointOfInterestTypes.GetNextScore(re),se=ClientLib.Base.PointOfInterestTypes.GetBoostsByScore(oe,ClientLib.Data.Ranking.ERankingType.BonusTiberium,ie),ce=ClientLib.Base.PointOfInterestTypes.GetBoostsByScore(oe,ClientLib.Data.Ranking.ERankingType.BonusInfantry,ie),oe!=re);)ne.push(oe),ee.add(new qx.ui.basic.Label(oe.toLocaleString()).set({rich:!0,alignX:"right"})),ae.add(new qx.ui.basic.Label(se.toLocaleString()).set({rich:!0,alignX:"right"})),te.add(new qx.ui.basic.Label(ce.toLocaleString()).set({rich:!0,alignX:"right"}));if(K.add(ee),K.add(ae),K.add(te),J.add(K),Q.add(J),E.add(Q),!this.ObjectData.server.SeasonServer){var le=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"center"}));le.add(new qx.ui.basic.Label("<big><u><b>Multiplier</b></u></big>").set({rich:!0})),le.add(new qx.ui.basic.Label("").set({rich:!0}));var de=new qx.ui.container.Scroll().set({width:113,height:560}),ue=new qx.ui.container.Composite(new qx.ui.layout.HBox(10).set({alignX:"center"})),ge=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"center"}));ge.add(new qx.ui.basic.Label("<b>Rank</b>").set({rich:!0}));var be=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"center"}));be.add(new qx.ui.basic.Label("<b>Multiplier</b>").set({rich:!0}));for(var q,m=1;40>=m;m++)q=ClientLib.Base.PointOfInterestTypes.GetBoostModifierByRank(m),ge.add(new qx.ui.basic.Label(m.toLocaleString()).set({rich:!0,alignX:"right"})),be.add(new qx.ui.basic.Label(q.toLocaleString()).set({rich:!0,alignX:"right"}));ue.add(ge),ue.add(be),de.add(ue),le.add(de),E.add(le)}this.GuiPoiDataVBox.add(E)},createTabPlayer:function(){var e=new qx.ui.container.Composite(new qx.ui.layout.HBox(50).set({alignX:"center"})),a=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"center"}));a.add(new qx.ui.basic.Label("<big><u><b>Player</b></u></big>").set({rich:!0})),a.add(new qx.ui.basic.Label("").set({rich:!0}));var t=new qx.ui.container.Composite(new qx.ui.layout.HBox(10).set({alignX:"center"})),n=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"right"})),r=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"left"}));if(n.add(new qx.ui.basic.Label("<b>Name</b>").set({rich:!0})),r.add(new qx.ui.basic.Label(this.ObjectData.player.PlayerName).set({rich:!0})),n.add(new qx.ui.basic.Label("<b>Rank</b>").set({rich:!0})),r.add(new qx.ui.basic.Label(this.ObjectData.player.PlayerRank.toLocaleString()).set({rich:!0})),n.add(new qx.ui.basic.Label("<b>Creation Date</b>").set({rich:!0})),r.add(new qx.ui.basic.Label(new Date(ClientLib.Data.MainData.GetInstance().get_Player().get_CreationDate()).toLocaleString()).set({rich:!0})),n.add(new qx.ui.basic.Label("<b>ScorePoints</b>").set({rich:!0})),r.add(new qx.ui.basic.Label(this.ObjectData.player.PlayerScorePoints.toLocaleString()).set({rich:!0})),!0==this.ObjectData.server.SeasonServer&&(n.add(new qx.ui.basic.Label("<b>LegacyPoints</b>").set({rich:!0})),r.add(new qx.ui.basic.Label(this.ObjectData.player.LegacyPoints.toLocaleString()).set({rich:!0})),n.add(new qx.ui.basic.Label("<b>VeteranPoints</b>").set({rich:!0})),r.add(new qx.ui.basic.Label(this.ObjectData.player.PlayerVeteranPoints.toLocaleString()).set({rich:!0}))),0<this.ObjectData.alliance.AllianceId&&(n.add(new qx.ui.basic.Label("<b>AllianceRole</b>").set({rich:!0})),r.add(new qx.ui.basic.Label(ClientLib.Data.MainData.GetInstance().get_Alliance().get_MemberData().d[ClientLib.Data.MainData.GetInstance().get_Player().get_Id()].RoleName).set({rich:!0}))),null==this.ObjectData.player.Shoot?setTimeout(function(e){e.createTabPlayer()},1e3,this):(n.add(new qx.ui.basic.Label("<b>PvE</b>").set({rich:!0})),r.add(new qx.ui.basic.Label(this.ObjectData.player.PvE.toLocaleString()).set({rich:!0})),n.add(new qx.ui.basic.Label("<b>PvP</b>").set({rich:!0})),r.add(new qx.ui.basic.Label(this.ObjectData.player.PvP.toLocaleString()).set({rich:!0})),n.add(new qx.ui.basic.Label("<b>Overall</b>").set({rich:!0})),r.add(new qx.ui.basic.Label(this.ObjectData.player.Shoot.toLocaleString()).set({rich:!0}))),t.add(n),t.add(r),a.add(t),a.add(new qx.ui.basic.Label("").set({rich:!0})),a.add(new qx.ui.basic.Label("").set({rich:!0})),0<this.ObjectDataNotSend.Endgames.length||0<this.ObjectDataNotSend.Challenges.length){var o=new qx.ui.container.Composite(new qx.ui.layout.HBox(50).set({alignX:"center"}));if(0<this.ObjectDataNotSend.Endgames.length){for(var s={},c=0;c<this.ObjectDataNotSend.Endgames.length;c++)s[this.ObjectDataNotSend.Endgames[c].r]?s[this.ObjectDataNotSend.Endgames[c].r]+=1:s[this.ObjectDataNotSend.Endgames[c].r]=1;var l=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"center"}));l.add(new qx.ui.basic.Label("<big><u><b>Endgames</b></u></big>").set({rich:!0})),l.add(new qx.ui.basic.Label("").set({rich:!0}));var d=new qx.ui.container.Composite(new qx.ui.layout.HBox(10).set({alignX:"center"})),n=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"right"})),r=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"right"}));for(var u in n.add(new qx.ui.basic.Label("<b>Rank</b>").set({rich:!0,alignX:"center"})),r.add(new qx.ui.basic.Label("<b>Count</b>".toLocaleString()).set({rich:!0,alignX:"center"})),s)n.add(new qx.ui.basic.Label(u.toLocaleString()).set({rich:!0})),r.add(new qx.ui.basic.Label(s[u].toLocaleString()).set({rich:!0}));n.add(new qx.ui.basic.Label("<b>Overall</b>").set({rich:!0,alignX:"center"})),r.add(new qx.ui.basic.Label("<b>"+this.ObjectDataNotSend.Endgames.length.toLocaleString()+"</b>").set({rich:!0})),d.add(n),d.add(r),l.add(d),l.add(new qx.ui.basic.Label("").set({rich:!0})),o.add(l)}if(0<this.ObjectDataNotSend.Challenges.length){for(var g={Player:{1:0,10:0,100:0},Alliance:{1:0,2:0,3:0}},c=0;c<this.ObjectDataNotSend.Challenges.length;c++)this.ObjectDataNotSend.Challenges[c].ia?g.Alliance[this.ObjectDataNotSend.Challenges[c].r]+=1:1==this.ObjectDataNotSend.Challenges[c].r?g.Player[1]+=1:10>=this.ObjectDataNotSend.Challenges[c].r?g.Player[10]+=1:100>=this.ObjectDataNotSend.Challenges[c].r&&(g.Player[100]+=1);var b=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"center"}));b.add(new qx.ui.basic.Label("<big><u><b>Challenges</b></u></big>").set({rich:!0})),b.add(new qx.ui.basic.Label("").set({rich:!0}));var d=new qx.ui.container.Composite(new qx.ui.layout.HBox(10).set({alignX:"center"})),n=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"left"})),r=new qx.ui.container.Composite(new qx.ui.layout.VBox(1).set({alignX:"right"}));for(var D in n.add(new qx.ui.basic.Label("<b>Rank</b>").set({rich:!0,alignX:"center"})),r.add(new qx.ui.basic.Label("<b>Count</b>".toLocaleString()).set({rich:!0,alignX:"center"})),g)for(var u in g[D])n.add(new qx.ui.basic.Label((D+" Top "+u).toLocaleString()).set({rich:!0})),r.add(new qx.ui.basic.Label(g[D][u].toLocaleString()).set({rich:!0}));n.add(new qx.ui.basic.Label("<b>Overall</b>").set({rich:!0,alignX:"center"})),r.add(new qx.ui.basic.Label("<b>"+this.ObjectDataNotSend.Challenges.length.toLocaleString()+"</b>").set({rich:!0})),d.add(n),d.add(r),b.add(d),b.add(new qx.ui.basic.Label("").set({rich:!0})),o.add(b)}a.add(o)}e.add(a),this.GuiPlayerVBox.removeAll(),this.GuiPlayerVBox.add(e)},setCncOptVars:function(){this.Defense_unit_map={GDI_Wall:"w",GDI_Cannon:"c","GDI_Antitank Barrier":"t",GDI_Barbwire:"b",GDI_Turret:"m",GDI_Flak:"f","GDI_Art Inf":"r","GDI_Art Air":"e","GDI_Art Tank":"a","GDI_Def_APC Guardian":"g","GDI_Def_Missile Squad":"q",GDI_Def_Pitbull:"p",GDI_Def_Predator:"d",GDI_Def_Sniper:"s","GDI_Def_Zone Trooper":"z","NOD_Def_Antitank Barrier":"t","NOD_Def_Art Air":"e","NOD_Def_Art Inf":"r","NOD_Def_Art Tank":"a","NOD_Def_Attack Bike":"p",NOD_Def_Barbwire:"b","NOD_Def_Black Hand":"z",NOD_Def_Cannon:"c",NOD_Def_Confessor:"s",NOD_Def_Flak:"f","NOD_Def_MG Nest":"m","NOD_Def_Militant Rocket Soldiers":"q",NOD_Def_Reckoner:"g","NOD_Def_Scorpion Tank":"d",NOD_Def_Wall:"w","":""},this.offense_unit_map={"GDI_APC Guardian":"g",GDI_Commando:"c",GDI_Firehawk:"f",GDI_Juggernaut:"j",GDI_Kodiak:"k",GDI_Mammoth:"m","GDI_Missile Squad":"q",GDI_Orca:"o",GDI_Paladin:"a",GDI_Pitbull:"p",GDI_Predator:"d",GDI_Riflemen:"r","GDI_Sniper Team":"s","GDI_Zone Trooper":"z","NOD_Attack Bike":"b",NOD_Avatar:"a","NOD_Black Hand":"z",NOD_Cobra:"r",NOD_Commando:"c",NOD_Confessor:"s","NOD_Militant Rocket Soldiers":"q",NOD_Militants:"m",NOD_Reckoner:"k",NOD_Salamander:"l","NOD_Scorpion Tank":"o","NOD_Specter Artilery":"p",NOD_Venom:"v",NOD_Vertigo:"t","":""}},findTechLayout:function(e){for(var a in e)if("object"==typeof e[a]&&e[a]&&0 in e[a]&&8 in e[a]&&"object"==typeof e[a][0]&&e[a][0]&&e[a][0]&&0 in e[a][0]&&15 in e[a][0]&&"object"==typeof e[a][0][0]&&e[a][0][0]&&"BuildingIndex"in e[a][0][0])return e[a];return null},findBuildings:function(e){var a=e.get_CityBuildingsData();for(var t in a)if(376877<=PerforceChangelist){if("object"==typeof a[t]&&a[t]&&"d"in a[t]&&"c"in a[t]&&0<a[t].c)return a[t].d;}else if("object"==typeof a[t]&&a[t]&&"l"in a[t])return a[t].l},isOffenseUnit:function(e){return e.get_UnitGameData_Obj().n in this.offense_unit_map},isDefenseUnit:function(e){return e.get_UnitGameData_Obj().n in this.Defense_unit_map},getUnitArrays:function(e){var a=[];for(var t in e)if("object"==typeof e[t]&&e[t])for(var n in e[t])if(376877<=PerforceChangelist){if("object"==typeof e[t][n]&&e[t][n]&&"d"in e[t][n]){var r=e[t][n].d;if("object"==typeof r&&r)for(var o in r)"object"==typeof r[o]&&r[o]&&"get_CurrentLevel"in r[o]&&a.push(r)}}else if("object"==typeof e[t][n]&&e[t][n]&&"l"in e[t][n]){var r=e[t][n].l;if("object"==typeof r&&r)for(var o in r)"object"==typeof r[o]&&r[o]&&"get_CurrentLevel"in r[o]&&a.push(r)}return a},getDefenseUnits:function(e){for(var a=this.getUnitArrays(e),t=0;t<a.length;++t)for(var n in a[t])if(this.isDefenseUnit(a[t][n]))return a[t];return[]},getOffenseUnits:function(e){for(var a=this.getUnitArrays(e),t=0;t<a.length;++t)for(var n in a[t])if(this.isOffenseUnit(a[t][n]))return a[t];return[]},CnCOpt:function(e,a,t){var n=this,r={keymap:{GDI_Accumulator:"a",GDI_Refinery:"r","GDI_Trade Center":"u",GDI_Silo:"s","GDI_Power Plant":"p","GDI_Construction Yard":"y",GDI_Airport:"d",GDI_Barracks:"b",GDI_Factory:"f","GDI_Defense HQ":"q","GDI_Defense Facility":"w","GDI_Command Center":"e",GDI_Support_Art:"z",GDI_Support_Air:"x",GDI_Support_Ion:"i",FOR_Silo:"s",FOR_Refinery:"r","FOR_Tiberium Booster":"b","FOR_Crystal Booster":"v","FOR_Trade Center":"u","FOR_Defense Facility":"w","FOR_Construction Yard":"y","FOR_EVENT_Construction Yard":"y",FOR_Harvester_Tiberium:"h","FOR_Defense HQ":"q",FOR_Harvester_Crystal:"n",NOD_Refinery:"r","NOD_Power Plant":"p",NOD_Harvester:"h","NOD_Construction Yard":"y",NOD_Airport:"d","NOD_Trade Center":"u","NOD_Defense HQ":"q",NOD_Barracks:"b",NOD_Silo:"s",NOD_Factory:"f",NOD_Harvester_Crystal:"n","NOD_Command Post":"e",NOD_Support_Art:"z",NOD_Support_Ion:"i",NOD_Accumulator:"a",NOD_Support_Air:"x","NOD_Defense Facility":"w",GDI_Wall:"w",GDI_Cannon:"c","GDI_Antitank Barrier":"t",GDI_Barbwire:"b",GDI_Turret:"m",GDI_Flak:"f","GDI_Art Inf":"r","GDI_Art Air":"e","GDI_Art Tank":"a","GDI_Def_APC Guardian":"g","GDI_Def_Missile Squad":"q",GDI_Def_Pitbull:"p",GDI_Def_Predator:"d",GDI_Def_Sniper:"s","GDI_Def_Zone Trooper":"z","NOD_Def_Antitank Barrier":"t","NOD_Def_Art Air":"e","NOD_Def_Art Inf":"r","NOD_Def_Art Tank":"a","NOD_Def_Attack Bike":"p",NOD_Def_Barbwire:"b","NOD_Def_Black Hand":"z",NOD_Def_Cannon:"c",NOD_Def_Confessor:"s",NOD_Def_Flak:"f","NOD_Def_MG Nest":"m","NOD_Def_Militant Rocket Soldiers":"q",NOD_Def_Reckoner:"g","NOD_Def_Scorpion Tank":"d",NOD_Def_Wall:"w","GDI_APC Guardian":"g",GDI_Commando:"c",GDI_Firehawk:"f",GDI_Juggernaut:"j",GDI_Kodiak:"k",GDI_Mammoth:"m","GDI_Missile Squad":"q",GDI_Orca:"o",GDI_Paladin:"a",GDI_Pitbull:"p",GDI_Predator:"d",GDI_Riflemen:"r","GDI_Sniper Team":"s","GDI_Zone Trooper":"z","NOD_Attack Bike":"b",NOD_Avatar:"a","NOD_Black Hand":"z",NOD_Cobra:"r",NOD_Commando:"c",NOD_Confessor:"s","NOD_Militant Rocket Soldiers":"q",NOD_Militants:"m",NOD_Reckoner:"k",NOD_Salamander:"l","NOD_Scorpion Tank":"o","NOD_Specter Artilery":"p",NOD_Venom:"v",NOD_Vertigo:"t","<last>":"."},make_sharelink:function(e,a,t){try{var o=ClientLib.Data.MainData.GetInstance().get_Cities().GetCity(e),s=ClientLib.Data.MainData.GetInstance().get_Cities().get_CurrentOwnCity(),c=ClientLib.Data.MainData.GetInstance().get_Alliance(),l=ClientLib.Data.MainData.GetInstance().get_Server(),d="http://cncopt.com/?map=3|";1===t?d+="G|G|":2===t?d+="N|N|":void 0;d+=a+"|";for(var u,g=[],b=0;20>b;++b){u=[];for(var D=0;9>D;++D)u.push(null);g.push(u)}var y=n.getDefenseUnits(o);if(376877<=PerforceChangelist)for(var b in y){var p=y[b];g[p.get_CoordX()][p.get_CoordY()+8]=p}else for(var p,b=0;b<y.length;++b)p=y[b],g[p.get_CoordX()][p.get_CoordY()+8]=p;for(var u,_=[],b=0;20>b;++b){u=[];for(var D=0;9>D;++D)u.push(null);_.push(u)}if(1==o.get_CityFaction()||2==o.get_CityFaction())var h=n.getOffenseUnits(o);else var h=n.getOffenseUnits(s);if(376877<=PerforceChangelist)for(var b in h){var p=h[b];_[p.get_CoordX()][p.get_CoordY()+16]=p}else for(var p,b=0;b<h.length;++b)p=h[b],_[p.get_CoordX()][p.get_CoordY()+16]=p;for(var O=n.findTechLayout(o),I=n.findBuildings(o),b=0;20>b;++b)for(var D=0;9>D;++D){var C=16<b?null:O[D][b],m=0,G=null;C&&0<=C.BuildingIndex&&(G=I[C.BuildingIndex],m=G.get_CurrentLevel());var f=g[D][b];f&&(m=f.get_CurrentLevel());var L=_[D][b];switch(L&&(m=L.get_CurrentLevel()),1<m&&(d+=m),16<b?0:o.GetResourceType(D,b)){case 0:if(G){var B=G.get_MdbBuildingId();GAMEDATA.Tech[B].n in r.keymap?d+=r.keymap[GAMEDATA.Tech[B].n]:(console.log("cncopt [5]: Unhandled building: "+B,G),d+=".")}else f?f.get_UnitGameData_Obj().n in r.keymap?d+=r.keymap[f.get_UnitGameData_Obj().n]:(console.log("cncopt [5]: Unhandled unit: "+f.get_UnitGameData_Obj().n),d+="."):L?L.get_UnitGameData_Obj().n in r.keymap?d+=r.keymap[L.get_UnitGameData_Obj().n]:(console.log("cncopt [5]: Unhandled unit: "+L.get_UnitGameData_Obj().n),d+="."):d+=".";break;case 1:d+=0>C.BuildingIndex?"c":"n";break;case 2:d+=0>C.BuildingIndex?"t":"h";break;case 4:d+="j";break;case 5:d+="h";break;case 6:d+="l";break;case 7:d+="k";break;default:console.log("cncopt [4]: Unhandled resource type: "+o.GetResourceType(D,b)),d+=".";}}c&&s.get_AllianceId()==o.get_AllianceId()&&(d+="|"+c.get_POITiberiumBonus(),d+="|"+c.get_POICrystalBonus(),d+="|"+c.get_POIPowerBonus(),d+="|"+c.get_POIInfantryBonus(),d+="|"+c.get_POIVehicleBonus(),d+="|"+c.get_POIAirBonus(),d+="|"+c.get_POIDefenseBonus()),1.2!=l.get_TechLevelUpgradeFactorBonusAmount()&&(d+="|newEconomy"),n.linkBase=d}catch(a){console.log("cncopt [1]: ",a)}}};r.make_sharelink(e,a,t)},getCurrentStats:function(){try{var e=ClientLib.Data.MainData.GetInstance().get_Player().get_Id();if(0<e){this.ObjectData.server={},this.ObjectData.alliance={},this.ObjectData.player={},this.ObjectData.bases=[],this.ObjectData.substitution={},this.ObjectData.substitution.incoming=[],this.ObjectData.substitution.outgoing="",this.ObjectData.substitution.active=[];var a=ClientLib.Data.MainData.GetInstance().get_Server().get_WorldId(),t=ClientLib.Data.MainData.GetInstance().get_Server().get_Name().trim(),n=ClientLib.Data.MainData.GetInstance().get_Server().get_IsSeasonServer(),r=ClientLib.Data.MainData.GetInstance().get_Alliance().get_Id();if(0<r){var o=ClientLib.Data.MainData.GetInstance().get_Alliance().get_Name(),s=ClientLib.Data.MainData.GetInstance().get_Alliance().get_Rank(),c=ClientLib.Data.MainData.GetInstance().get_Alliance().get_EventRank(),l=ClientLib.Data.MainData.GetInstance().get_Alliance().get_TotalScore(),d=ClientLib.Data.MainData.GetInstance().get_Alliance().get_AverageScore(),u=ClientLib.Data.MainData.GetInstance().get_Alliance().get_EventScore(),g=0;try{for(Te=0;Te<ClientLib.Data.MainData.GetInstance().get_Alliance().get_OwnShieldHubs().length;Te++)g+=ClientLib.Data.MainData.GetInstance().get_Server().GetControlHubVeteranPointsProduction(ClientLib.Data.MainData.GetInstance().get_Alliance().get_OwnShieldHubs()[Te].l)}catch(a){}var b=ClientLib.Data.MainData.GetInstance().get_Alliance().get_POITiberiumBonus(),D=ClientLib.Data.MainData.GetInstance().get_Alliance().get_POICrystalBonus(),y=ClientLib.Data.MainData.GetInstance().get_Alliance().get_POIPowerBonus(),p=ClientLib.Data.MainData.GetInstance().get_Alliance().get_POIInfantryBonus(),_=ClientLib.Data.MainData.GetInstance().get_Alliance().get_POIVehicleBonus(),h=ClientLib.Data.MainData.GetInstance().get_Alliance().get_POIAirBonus(),O=ClientLib.Data.MainData.GetInstance().get_Alliance().get_POIDefenseBonus(),I=ClientLib.Data.MainData.GetInstance().get_Alliance().get_POIRankScore(),C=I[0].r,m=I[1].r,G=I[2].r,f=I[3].r,L=I[4].r,B=I[5].r,S=I[6].r,P=I[0].s,j=I[1].s,A=I[2].s,x=I[3].s,k=I[4].s,R=I[5].s,v=I[6].s}var N=ClientLib.Data.MainData.GetInstance().get_Player().get_AccountId(),V=ClientLib.Data.MainData.GetInstance().get_Player().get_Name(),w=ClientLib.Data.MainData.GetInstance().get_Player().get_ScorePoints(),M=ClientLib.Data.MainData.GetInstance().get_Player().get_OverallRank(),T=ClientLib.Data.MainData.GetInstance().get_Player().get_EventRank(),X=ClientLib.Data.MainData.GetInstance().get_Player().get_EventScore(),F=ClientLib.Data.MainData.GetInstance().get_Player().get_ResearchPoints(),E=ClientLib.Data.MainData.GetInstance().get_Player().get_Credits().Base,H=ClientLib.Data.MainData.GetInstance().get_Inventory().get_PlayerFunds(),U=ClientLib.Data.MainData.GetInstance().get_Player().get_LegacyPoints(),W=ClientLib.Data.MainData.GetInstance().get_Player().GetCommandPointMaxStorage(),Y=ClientLib.Data.MainData.GetInstance().get_Player().GetCommandPointCount(),z=ClientLib.Data.MainData.GetInstance().get_Player().get_Faction(),q=ClientLib.Data.MainData.GetInstance().get_Alliance().get_CurrentMemberRoleInfo().SortOrder,Z=ClientLib.Data.MainData.GetInstance().get_Cities().get_AllCities().d,Q=ClientLib.Data.MainData.GetInstance().get_Cities().get_AllCities().c,J=0,K=0,ee=0,ae=0,te=0,ie=0,ne=0,re=0,oe=0,se=0,ce=0,le=0,de=0,ue=0;for(var ge in Z){var be=Z[ge],De=be.get_Id(),ye=be.get_Name(),pe=be.get_PosX(),_e=be.get_PosY(),he=be.get_ConstructionYardLevel(),Oe=be.get_LvlBase(),Ie=be.get_LvlOffense(),Ce=be.get_LvlDefense();be.GetResourceMaxStorage(ClientLib.Base.EResourceType.RepairChargeInf)>ue&&(ue=be.GetResourceMaxStorage(ClientLib.Base.EResourceType.RepairChargeInf));var me=be.GetResourceCount(ClientLib.Base.EResourceType.RepairChargeInf),Ge=0,fe=be.get_CityBuildingsData().GetUniqueBuildingByTechName(ClientLib.Base.ETechName.Defense_Facility);null!==fe&&(Ge=fe.get_CurrentLevel(),ne+=Ge),J+=he,K+=Oe,ee+=Ie,ae+=Ce,Ie>te&&(te=Ie),Ce>ie&&(ie=Ce);var Le=0,Be="";null!==be.get_SupportData()&&(Le=be.get_SupportData().get_Level(),Be=be.get_SupportWeapon().n.replace(/NOD_SUPPORT_/gi,"").replace(/GDI_SUPPORT_/gi,"").replace(/FOR_SUPPORT_/gi,""),re+=be.get_SupportData().get_Level(),oe++);var Se=Math.round(be.GetResourceGrowPerHour(ClientLib.Base.EResourceType.Tiberium,!0,!0)),Pe=Math.round(be.GetResourceGrowPerHour(ClientLib.Base.EResourceType.Crystal,!0,!0)),je=Math.round(be.GetResourceGrowPerHour(ClientLib.Base.EResourceType.Power,!0,!0)),Ae=parseInt(ClientLib.Base.Resource.GetResourceGrowPerHour(be.get_CityCreditsProduction(),!1)+ClientLib.Base.Resource.GetResourceBonusGrowPerHour(be.get_CityCreditsProduction(),!1));se+=Se,ce+=Pe,le+=je,de+=Ae;var xe={};xe.BaseId=De,xe.BaseName=ye,xe.PosX=pe,xe.PosY=_e,xe.LvLCY=he,xe.LvLBase=Oe,xe.LvLOffense=Ie,xe.LvLDefense=Ce,xe.LvLDF=Ge,xe.LvLSupport=Le,xe.SupArt=Be,xe.TiberiumPerHour=Se,xe.CrystalPerHour=Pe,xe.PowerPerHour=je,xe.CreditsPerHour=Ae,xe.CurrentRepairTime=me,this.CnCOpt(De,ye,z),xe.CnCOpt=this.linkBase,this.ObjectData.bases.push(xe),this.linkBase=""}var ke=J/Q,Re=K/Q,ve=ee/Q,Ne=ae/Q,Ve=ne/Q,we=re/Q;this.ObjectData.server.WorldId=a,this.ObjectData.server.ServerName=t,this.ObjectData.server.SeasonServer=n,this.ObjectData.alliance.AllianceId=r,0<r&&(this.ObjectData.alliance.AllianceName=o,this.ObjectData.alliance.AllianceRank=s,this.ObjectData.alliance.AllianceEventRank=c,this.ObjectData.alliance.AllianceTotalScore=l,this.ObjectData.alliance.AllianceAverageScore=d,this.ObjectData.alliance.AllianceVeteranPoints=u,this.ObjectData.alliance.AllianceProdVetPoints=g,this.ObjectData.alliance.BonusTiberium=b,this.ObjectData.alliance.BonusCrystal=D,this.ObjectData.alliance.BonusPower=y,this.ObjectData.alliance.BonusInfantrie=p,this.ObjectData.alliance.BonusVehicle=_,this.ObjectData.alliance.BonusAir=h,this.ObjectData.alliance.BonusDef=O,this.ObjectData.alliance.RankTib=C,this.ObjectData.alliance.RankCry=m,this.ObjectData.alliance.RankPow=G,this.ObjectData.alliance.RankInf=f,this.ObjectData.alliance.RankVeh=L,this.ObjectData.alliance.RankAir=B,this.ObjectData.alliance.RankDef=S,this.ObjectData.alliance.ScoreTib=P,this.ObjectData.alliance.ScoreCry=j,this.ObjectData.alliance.ScorePow=A,this.ObjectData.alliance.ScoreInf=x,this.ObjectData.alliance.ScoreVeh=k,this.ObjectData.alliance.ScoreAir=R,this.ObjectData.alliance.ScoreDef=v),this.ObjectData.player.AccountId=N,this.ObjectData.player.PlayerName=V,this.ObjectData.player.PlayerScorePoints=w,this.ObjectData.player.CountBases=Q,this.ObjectData.player.CountSup=oe,this.ObjectData.player.PlayerRank=M,this.ObjectData.player.PlayerEventRank=T,this.ObjectData.player.PlayerVeteranPoints=X,this.ObjectData.player.ResearchPoints=F,this.ObjectData.player.Credits=E,this.ObjectData.player.Funds=H,this.ObjectData.player.LegacyPoints=U,this.ObjectData.player.CommandPointsMaxStorage=W,this.ObjectData.player.CommandPointsCurrent=Y,this.ObjectData.player.Faction=z,this.ObjectData.player.MemberRole=q,this.ObjectData.player.LvLHighestOff=te,this.ObjectData.player.LvLHighestDef=ie,this.ObjectData.player.AverageCY=ke,this.ObjectData.player.AverageBase=Re,this.ObjectData.player.AverageOff=ve,this.ObjectData.player.AverageDef=Ne,this.ObjectData.player.AverageDF=Ve,this.ObjectData.player.AverageSup=we,this.ObjectData.player.ProductionTiberium=se,this.ObjectData.player.ProductionCrystal=ce,this.ObjectData.player.ProductionPower=le,this.ObjectData.player.ProductionCredits=de,this.ObjectData.player.MaxRepairTime=ue,ClientLib.Data.MainData.GetInstance().get_PlayerSubstitution().getOutgoing()&&(this.ObjectData.substitution.outgoing=ClientLib.Data.MainData.GetInstance().get_PlayerSubstitution().getOutgoing().n);for(var Me=ClientLib.Data.MainData.GetInstance().get_PlayerSubstitution().getIncoming(),Te=0;Te<Me.length;Te++)this.ObjectData.substitution.incoming.push(Me[Te].n);for(var Xe=ClientLib.Data.MainData.GetInstance().get_PlayerSubstitution().getSubstitution(),Te=0;Te<Xe.length;Te++)this.ObjectData.substitution.active.push(Xe[Te].n);if(ClientLib.Net.CommunicationManager.GetInstance().SendSimpleCommand("GetPublicPlayerInfo",{id:e},phe.cnc.Util.createEventDelegate(ClientLib.Net.CommandResult,this,this.getPublicPlayerInfo),null),0<r&&ClientLib.Net.CommunicationManager.GetInstance().SendSimpleCommand("GetPublicAllianceInfo",{id:r},phe.cnc.Util.createEventDelegate(ClientLib.Net.CommandResult,this,this.getPublicAllianceInfo),null),this.sendDataFromInGame(),!this.ReportsAreLoading){this.ReportsAreLoading=!0;var Fe=this;$.post("https://cnc.indyserver.info/php/manageBackend.php",{action:"getExistingReportIds",WorldId:a,AccountId:N}).always(function(e){for(var a=0;a<e.length;a++)Fe.ObjectReportData[e[a].ReportId]=e[a].ReportId;Fe.killReportTimeouts()})}setTimeout(function(e){e.getCurrentStats()},36e5,this)}else setTimeout(function(e){e.getCurrentStats()},1e3,this)}catch(a){console.log(a)}},getPublicPlayerInfo:function(e,a){for(var t=a.c,n=0;n<t.length;n++)this.ObjectData.bases[n].BasePoints=t[n].p;this.ObjectData.player.Shoot=a.bd,this.ObjectData.player.PvP=a.bd-a.bde,this.ObjectData.player.PvE=a.bde,this.ObjectDataNotSend.Endgames=a.ew,this.ObjectDataNotSend.Challenges=a.cw},getPublicAllianceInfo:function(e,a){this.ObjectData.alliance.Shoot=a.bd,this.ObjectData.alliance.PvP=a.bdp,this.ObjectData.alliance.PvE=a.bde},killReportTimeouts:function(){this.timeoutArrayReportDataManager.push([]);for(var e=0;e<this.timeoutArrayReportDataManager.length;e++)for(var a=0;a<this.timeoutArrayReportDataManager[e].length;a++)clearTimeout(this.timeoutArrayReportDataManager[e][a]);this.getReportHeaderAllManager()},getReportHeaderAllManager:function(){ClientLib.Net.CommunicationManager.GetInstance().SendSimpleCommand("GetReportHeaderAll",{type:1,skip:0,take:1e3,sort:1,ascending:!1},phe.cnc.Util.createEventDelegate(ClientLib.Net.CommandResult,this,this.getReportHeaderAll),null)},getReportHeaderAll:function(e,a){for(var t=a,n=[],r=0;r<t.length;r++)null==this.ObjectReportData[t[r].i]&&n.push(t[r].i);for(var r=0;r<n.length;r++)this.getReportDataManager(n[r],r);this.ReportsAreLoading=!1},getReportDataManager:function(e,a){this.timeoutArrayReportDataManager[this.timeoutArrayReportDataManager.length-1].push(setTimeout(function(a){ClientLib.Net.CommunicationManager.GetInstance().SendSimpleCommand("GetReportData",{playerReportId:e},phe.cnc.Util.createEventDelegate(ClientLib.Net.CommandResult,a,a.getReportData),null)},1e3*a,this))},getReportData:function(e,a){if(a.i){var t={WorldId:this.ObjectData.server.WorldId,AccountId:this.ObjectData.player.AccountId,ReportId:a.i,OwnBaseId:a.d.abi,AttackTime:a.d.t,TargetLevel:a.d.dbl,TargetFaction:a.d.dpf,BattleStatus:a.d.cr,GainTib:0,GainCry:0,GainCre:0,GainRp:0};if(2==a.tp)for(var n,r=0;r<a.d.arr.length;r++)switch(n=a.d.arr[r].t,n){case 1:{t.GainTib=parseInt(a.d.arr[r].a);break}case 2:{t.GainCry=parseInt(a.d.arr[r].a);break}case 3:{t.GainCre=parseInt(a.d.arr[r].a);break}case 6:{t.GainRp=parseInt(a.d.arr[r].a);break}default:}else if(1==a.tp)for(var n,r=0;r<a.d.arp.length;r++)switch(n=a.d.arp[r].t,n){case 1:{t.GainTib=parseInt(a.d.arp[r].a);break}case 2:{t.GainCry=parseInt(a.d.arp[r].a);break}case 3:{t.GainCre=parseInt(a.d.arp[r].a);break}case 6:{t.GainRp=parseInt(a.d.arp[r].a);break}default:}t.CostCry=0,t.CostRep=0;for(var n,r=0;r<a.d.arca.length;r++)switch(n=a.d.arca[r].t,n){case 2:{t.CostCry=parseInt(a.d.arca[r].a);break}case 8:{t.CostRep=parseInt(a.d.arca[r].a);break}default:}for(var n,r=0;r<a.d.arci.length;r++)switch(n=a.d.arci[r].t,n){case 2:{t.CostCry=parseInt(a.d.arci[r].a);break}case 9:{t.CostRep=parseInt(a.d.arci[r].a);break}default:}this.ObjectReportData[a.i]=t,this.sendReportData(a.i)}},sendReportData:function(a){var t=[this.ObjectReportData[a]];$.post("https://cnc.indyserver.info/php/manageBackend.php",{action:"sendDataFromInGameReport",ObjectData:t,ScriptVersionLocal:e})},sendChatInfo:function(e){var a="";a=0!=e[0]||ClientLib.Data.MainData.GetInstance().get_Player().get_IsSubstituted()?"/w "+this.ObjectData.player.PlayerName+" Hallo "+this.ObjectData.player.PlayerName+", um zu leoStats zu gelangen, klicke auf [url]https://cnc.indyserver.info/[/url].":"/w "+this.ObjectData.player.PlayerName+" Hallo "+this.ObjectData.player.PlayerName+", um zu leoStats zu gelangen, klicke auf [url]https://cnc.indyserver.info/[/url]. Dein Benutzername ist \""+this.ObjectData.player.PlayerName+"\" und dein Standardpasswort: \""+this.ObjectData.player.PlayerName+"_"+this.ObjectData.player.AccountId+"\"",qx.core.Init.getApplication().getChat().getChatWidget().send(a)},sendDataFromInGame:function(){if(this.ObjectData!=null&&this.ObjectData.player!=null&&this.ObjectData.player.Shoot!=null&&this.ObjectData.alliance!=null&&(0==this.ObjectData.alliance.AllianceId||this.ObjectData.alliance.Shoot!=null)){var a={action:"sendDataFromInGame",ObjectData:this.ObjectData,ScriptVersionLocal:e},t=this;$.post("https://cnc.indyserver.info/php/manageBackend.php",a).always(function(e){t.sendChatInfoStatus&&(t.sendChatInfo(e),t.sendChatInfoStatus=!1)})}else setTimeout(function(e){e.sendDataFromInGame()},1e3,this)}}}),leoStats.getInstance().initialize(),qx.Class.define("BaseScanner",{type:"singleton",extend:qx.core.Object,construct:function(){console.log("create BaseScanner...")},members:{initialize:function(){this.app=qx.core.Init.getApplication(),this.ArrayLayouts=[],this.ArrayScannedIds=[],this.ArrayIdsForScan=[],this.ScriptIsRunning=!1,this.buildGUI(),this.autoScanByClickOnBase()},buildGUI:function(){this.GuiButtonBaseScanner=new qx.ui.form.Button("Start BaseScanner...").set({center:!0,rich:!0}),this.GuiButtonBaseScanner.addListener("click",function(){this.ScriptIsRunning?this.stopBaseScan():this.startBaseScan()},this),this.app.getDesktop().add(this.GuiButtonBaseScanner,{right:125,top:24})},autoScanByClickOnBase:function(){this.initializeDefaultValues();var e=this;phe.cnc.Util.attachNetEvent(ClientLib.Data.MainData.GetInstance().get_Cities(),"CurrentChange",ClientLib.Data.CurrentCityChange,this,e.scanClickedBase)},scanClickedBase:function(e,a){if(!this.ScriptIsRunning&&ClientLib.Data.MainData.GetInstance().get_Cities().get_CurrentCity()){var t=ClientLib.Data.MainData.GetInstance().get_Cities().get_CurrentCity().get_CityFaction();(4==t||5==t||6==t||8==t)&&-1==this.ArrayScannedIds.indexOf(a)&&-1==this.ArrayIdsForScan.indexOf(a)?(this.errorRangeCounter=0,"undefined"!=typeof timeoutScanClickedBase&&clearTimeout(timeoutScanClickedBase),this.ArrayIdsForScan=[],this.ArrayIdsForScan.push(a),this.scanFirstLayout()):0==t&&5>this.errorRangeCounter?(this.errorRangeCounter++,timeoutScanClickedBase=setTimeout(function(t){t.scanClickedBase(e,a)},1e3,this)):("undefined"!=typeof timeoutScanClickedBase&&clearTimeout(timeoutScanClickedBase),this.errorRangeCounter=0)}},startBaseScan:function(){this.ScriptIsRunning=!0;var e=this.ArrayLayouts.length+this.ArrayIdsForScan.length;this.GuiButtonBaseScanner.setLabel("Scan Base... ("+this.ArrayLayouts.length+" / "+e+")"),this.startScan()},stopBaseScan:function(){this.ScriptIsRunning=!1,this.GuiButtonBaseScanner.setLabel("Start BaseScanner..."),this.stopScan()},initializeDefaultValues:function(){this.attRange=ClientLib.Data.MainData.GetInstance().get_Server().get_MaxAttackDistance(),this.ArrayPrototypeGameObjectType2=[],this.ArrayPrototypeGameObjectType3=[],this.ArrayIdsForScan=[],this.errorExistsCounter=0,this.errorRangeCounter=0},getArrayPrototypeGameObject:function(){var e=ClientLib.Data.MainData.GetInstance().get_Cities().get_AllCities().d;for(var a in e){for(var t=e[a].get_X(),i=e[a].get_Y(),n=0,r=0,o=0,s=0,c=t-10;c<t+10;c++){for(var l,d=i-10;d<i+10;d++)if(l=ClientLib.Data.MainData.GetInstance().get_World().GetObjectFromPosition(c,d),null!=l)if(2==l.Type&&!n&&!r)n=c,r=d;else if(3==l.Type&&!o&&!s)o=c,s=d;else if(n&&r&&o&&s)break;if(n&&r&&o&&s)break}if(n&&r&&o&&s)break}for(var a in ClientLib.Data.MainData.GetInstance().get_World().GetObjectFromPosition(n,r))this.ArrayPrototypeGameObjectType2.push(a);for(var a in ClientLib.Data.MainData.GetInstance().get_World().GetObjectFromPosition(o,s))this.ArrayPrototypeGameObjectType3.push(a)},returnLayoutOfCurBaseAndEvaluateIt:function(){for(var e=Array(16).fill().map(()=>Array(9).fill("")),a=ClientLib.Data.MainData.GetInstance().get_Cities().get_CurrentCity(),t=0;16>t;t++)for(var i=0;9>i;i++)a.GetResourceType(i,t)&&(e[t][i]=a.GetResourceType(i,t));for(var n=a.get_X(),r=a.get_Y(),o=0,s=0,c=0,l=0,d=0,u=0,g=0,b=0,D=0,p=0,_=0,h=0,O=0,I=0,C=0,m=0,G=0,f=0,L=0,B=0,S=0,P=0,j=0,A=0,k=0,R=0,v=0,t=0;8>t;t++)for(var i=0;9>i;i++)if(""==e[t][i]){var N=0,V=0,w=0,M=0;switch(0==i&&0==t?(1==e[t][i+1]?(V++,w++):2==e[t][i+1]?(N++,w++):M++,1==e[t+1][i+1]?(V++,w++):2==e[t+1][i+1]?(N++,w++):M++,1==e[t+1][i]?(V++,w++):2==e[t+1][i]?(N++,w++):M++):8==i&&0==t?(1==e[t][i-1]?(V++,w++):2==e[t][i-1]?(N++,w++):M++,1==e[t+1][i-1]?(V++,w++):2==e[t+1][i-1]?(N++,w++):M++,1==e[t+1][i]?(V++,w++):2==e[t+1][i]?(N++,w++):M++):0==t?(1==e[t][i-1]?(V++,w++):2==e[t][i-1]?(N++,w++):M++,1==e[t+1][i-1]?(V++,w++):2==e[t+1][i-1]?(N++,w++):M++,1==e[t+1][i]?(V++,w++):2==e[t+1][i]?(N++,w++):M++,1==e[t+1][i+1]?(V++,w++):2==e[t+1][i+1]?(N++,w++):M++,1==e[t][i+1]?(V++,w++):2==e[t][i+1]?(N++,w++):M++):0==i&&7==t?(1==e[t-1][i]?(V++,w++):2==e[t-1][i]?(N++,w++):M++,1==e[t-1][i+1]?(V++,w++):2==e[t-1][i+1]?(N++,w++):M++,1==e[t][i+1]?(V++,w++):2==e[t][i+1]?(N++,w++):M++):0==i?(1==e[t-1][i]?(V++,w++):2==e[t-1][i]?(N++,w++):M++,1==e[t-1][i+1]?(V++,w++):2==e[t-1][i+1]?(N++,w++):M++,1==e[t][i+1]?(V++,w++):2==e[t][i+1]?(N++,w++):M++,1==e[t+1][i+1]?(V++,w++):2==e[t+1][i+1]?(N++,w++):M++,1==e[t+1][i]?(V++,w++):2==e[t+1][i]?(N++,w++):M++):8==i&&7==t?(1==e[t][i-1]?(V++,w++):2==e[t][i-1]?(N++,w++):M++,1==e[t-1][i-1]?(V++,w++):2==e[t-1][i-1]?(N++,w++):M++,1==e[t-1][i]?(V++,w++):2==e[t-1][i]?(N++,w++):M++):7==t?(1==e[t][i-1]?(V++,w++):2==e[t][i-1]?(N++,w++):M++,1==e[t-1][i-1]?(V++,w++):2==e[t-1][i-1]?(N++,w++):M++,1==e[t-1][i]?(V++,w++):2==e[t-1][i]?(N++,w++):M++,1==e[t-1][i+1]?(V++,w++):2==e[t-1][i+1]?(N++,w++):M++,1==e[t][i+1]?(V++,w++):2==e[t][i+1]?(N++,w++):M++):8==i?(1==e[t-1][i]?(V++,w++):2==e[t-1][i]?(N++,w++):M++,1==e[t-1][i-1]?(V++,w++):2==e[t-1][i-1]?(N++,w++):M++,1==e[t][i-1]?(V++,w++):2==e[t][i-1]?(N++,w++):M++,1==e[t+1][i-1]?(V++,w++):2==e[t+1][i-1]?(N++,w++):M++,1==e[t+1][i]?(V++,w++):2==e[t+1][i]?(N++,w++):M++):(1==e[t-1][i]?(V++,w++):2==e[t-1][i]?(N++,w++):M++,1==e[t-1][i+1]?(V++,w++):2==e[t-1][i+1]?(N++,w++):M++,1==e[t][i+1]?(V++,w++):2==e[t][i+1]?(N++,w++):M++,1==e[t+1][i+1]?(V++,w++):2==e[t+1][i+1]?(N++,w++):M++,1==e[t+1][i]?(V++,w++):2==e[t+1][i]?(N++,w++):M++,1==e[t+1][i-1]?(V++,w++):2==e[t+1][i-1]?(N++,w++):M++,1==e[t][i-1]?(V++,w++):2==e[t][i-1]?(N++,w++):M++,1==e[t-1][i-1]?(V++,w++):2==e[t-1][i-1]?(N++,w++):M++),N){case 6:{c++;break}case 5:{l++;break}case 4:{d++;break}case 3:{u++;break}case 2:{g++;break}case 1:{b++;break}default:}switch(V){case 6:{D++;break}case 5:{p++;break}case 4:{_++;break}case 3:{h++;break}case 2:{O++;break}case 1:{I++;break}default:}switch(w){case 6:{C++;break}case 5:{m++;break}case 4:{G++;break}case 3:{f++;break}case 2:{L++;break}case 1:{B++;break}default:}switch(M){case 8:{S++;break}case 7:{P++;break}case 6:{j++;break}case 5:{A++;break}case 4:{k++;break}case 3:{R++;break}case 2:{v++;break}default:}}else 2==e[t][i]?o++:1==e[t][i]&&s++;return{Zeit:Date.now(),PosX:n,PosY:r,FieldsTib:o,FieldsCry:s,Layout:JSON.stringify(e),EvaluatedFields:[c,l,d,u,g,b,D,p,_,h,O,I,C,m,G,f,L,B,S,P,j,A,k,R,v]}},scanFirstLayout:function(){for(var e in this.ArrayIdsForScan){var a=this.ArrayIdsForScan[e];this.ScriptIsRunning&&ClientLib.Data.MainData.GetInstance().get_Cities().set_CurrentCityId(a),setTimeout(function(e){if(!ClientLib.Data.MainData.GetInstance().get_Cities().get_CurrentCity())5>e.errorExistsCounter?e.errorExistsCounter+=1:(console.log("Layout not found ("+e.errorExistsCounter+"), removing it from scan"),e.ArrayIdsForScan.splice(0,1),e.errorExistsCounter=0,e.scanFirstLayout());else if(ClientLib.Data.MainData.GetInstance().get_Cities().get_CurrentCity().get_Buildings().c&&0>ClientLib.Data.MainData.GetInstance().get_Cities().get_CurrentCity().get_OwnerId()){e.errorExistsCounter=0,e.ArrayLayouts.push(e.returnLayoutOfCurBaseAndEvaluateIt()),e.ScriptIsRunning?e.ArrayScannedIds.push(a):e.ArrayScannedIds.push(ClientLib.Data.MainData.GetInstance().get_Cities().get_CurrentCityId()),e.ArrayIdsForScan.splice(0,1),console.log(e.ArrayLayouts.length+" / "+e.ArrayIdsForScan.length);var t=e.ArrayLayouts.length+e.ArrayIdsForScan.length;e.ScriptIsRunning&&e.GuiButtonBaseScanner.setLabel("Scan Base... ("+e.ArrayLayouts.length+" / "+t+")"),e.sendDataOnlyFromLastLayout(),e.scanFirstLayout()}else 5>e.errorExistsCounter?(e.errorExistsCounter++,console.log("Layout not found ("+e.errorExistsCounter+")"),e.scanFirstLayout()):(console.log("Layout not found ("+e.errorExistsCounter+"), removing it from scan"),e.ArrayIdsForScan.splice(0,1),e.errorExistsCounter=0,e.scanFirstLayout())},1e3,this);break}this.ArrayIdsForScan.length||setTimeout(function(e){e.stopBaseScan()},1e3,this)},scanAroundOwnBase:function(e){for(var a=ClientLib.Data.MainData.GetInstance().get_Cities().get_AllCities().d[e].get_PosX(),t=ClientLib.Data.MainData.GetInstance().get_Cities().get_AllCities().d[e].get_PosY(),n=parseInt(a-this.attRange);n<=parseInt(a+this.attRange);n++)for(var r,o=parseInt(t-this.attRange);o<=parseInt(t+this.attRange);o++)if(r=Math.sqrt(Math.pow(n-a,2)+Math.pow(o-t,2)),r<=this.attRange){var s=ClientLib.Data.MainData.GetInstance().get_World().GetObjectFromPosition(n,o);if(s)if(3==s.Type&&(0<s[this.ArrayPrototypeGameObjectType3[10]]||0<s[this.ArrayPrototypeGameObjectType3[11]])){var c=s[this.ArrayPrototypeGameObjectType3[12]];-1==this.ArrayIdsForScan.indexOf(c)&&-1==this.ArrayScannedIds.indexOf(c)&&this.ArrayIdsForScan.push(c)}else if(2==s.Type){var c=s[this.ArrayPrototypeGameObjectType2[12]];-1==this.ArrayIdsForScan.indexOf(c)&&-1==this.ArrayScannedIds.indexOf(c)&&this.ArrayIdsForScan.push(c)}}},iterateThroughOwnBases:function(){var e=ClientLib.Data.MainData.GetInstance().get_Cities().get_AllCities().d;for(var a in e){var t=e[a],i=t.get_Id();this.scanAroundOwnBase(i)}},sendDataOnlyFromLastLayout:function(){var a=ClientLib.Data.MainData.GetInstance().get_Server().get_WorldId(),t=ClientLib.Data.MainData.GetInstance().get_Player().get_AccountId(),i=this.ArrayLayouts[this.ArrayLayouts.length-1];$.post("https://cnc.indyserver.info/php/manageBackend.php",{action:"sendDataFromInGameBaseScanner",ObjectData:[i],WorldId:a,AccountId:t,ScriptVersionLocal:e})},stopScan:function(){console.log("Stop..."),this.initializeDefaultValues()},startScan:function(){console.log("Start..."),this.initializeDefaultValues(),this.getArrayPrototypeGameObject(),this.iterateThroughOwnBases(),this.scanFirstLayout()}}}),BaseScanner.getInstance().initialize()})()}function a(){try{if("undefined"!=typeof qx&&!!qx.core.Init.getApplication().getMenuBar())return void e()}catch(a){console===void 0?window.opera?opera.postError(a):GM_log(a):console.log(a)}setTimeout(a,1e3)}a()};(function(){var a=document.createElement("script");a.innerHTML="("+e.toString()+")();",a.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(a)})()})();